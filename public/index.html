<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chatbot DEV-G5</title>
    <link rel="stylesheet" href="../css/hompage.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/vs2015.min.css">
    <!-- Google API for Sign-In -->
    <script src="https://apis.google.com/js/platform.js" async defer onload="onLoad()"></script>
    <meta name="google-signin-client_id" content="932017646849-37s7h70tcggvtkidb8v1u9hipqaa0q1p.apps.googleusercontent.com">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
        integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <header>
        <div class="navbar">
            <div class="navbar-logo">
                <img src="../src/img/robot-assistant.png" alt="">
                <h2>DevG5</h2>
            </div>
            <div class="navbar-profile">
                <div class="navbar-option">
                    <button id="theme-switch">
                        <i class="fa-regular fa-moon"></i>
                        <i class="fa-regular fa-sun"></i>
                    </button>
                    <i class="fa-solid fa-globe"></i>
                    <img onclick="myFunction()" class="dropbtn"
                        src="https://png.pngtree.com/png-clipart/20200224/original/pngtree-cartoon-color-simple-male-avatar-png-image_5230557.jpg"
                        alt="">
                </div>
                <div class="profile-dropdown">
                    <div class="dropdown-content" id="myDropdown">
                        <div class="dropdown-item">
                            <button onclick="openPopup()">
                                My profile
                            </button>
                        </div>
                        <div class="dropdown-item">
                            <button>
                                Setting
                            </button>
                        </div>
                        <div class="dropdown-item">
                            <button>
                                Logout
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <div class="profile" id="popup_profile">
        <button class="profile-btnClose" onclick="closePopup()">
            <i class="fa-solid fa-xmark"></i>
        </button>
        <div class="profile-content">
            <div class="profile-info">
                <div class="profile-avatar">
                    <img id="avatarImage"
                        src="https://png.pngtree.com/png-clipart/20200224/original/pngtree-cartoon-color-simple-male-avatar-png-image_5230557.jpg"
                        alt="Profile Avatar">
                    <form action="/upload" method="post" enctype="multipart/form-data">
                        <input type="file" name="image" accept="image/*" onchange="previewImage(event)">
                    </form>
                </div>
                <div class="profile-item">
                    <h3>Full Name:</h3>
                    <input type="text" name="" id="" placeholder="Nguyen Van Phuoc">
                </div>
                <div class="profile-item">
                    <h3>Email:</h3>
                    <input type="text" name="" id="" placeholder="email@gmail.com">
                </div>
                <div class="profile-gender">
                    <h3>Gender:</h3>
                    <select id="gender" name="gender" required>
                        <option value="male">Male</option>
                        <option value="female">Female</option>
                    </select>
                </div>
            </div>
        </div>
        <button class="profile-btnSubmit">
            Submit
        </button>
    </div>
    <main class="chat-container">
        <aside class="chat-history">
            <div class="button-container">
                <button class="add-button" id="newChatButton">New chat</button>
            </div>
            <ul class="chat-list" id="chatList">
            </ul>
            <button class="toggle-button">
                <i class="fa-solid fa-bars"></i>
            </button>
        </aside>
        <section class="chatbox">
            <div class="left-panel">
            </div>
            <div class="center-panel">
                <div class="messages">
                    <div class="chat-messages" id="chatMessages">
                        <!-- Chat messages will be appended here -->
                    </div>
                </div>
                <div class="input-container">
                    <input type="text" id="userInput" placeholder="What can I help you?" class="chat-input">
                    <button class="input-void">
                        <i class="fa-solid fa-microphone"></i>
                    </button>
                    <button id="sendButton" class="input-send">
                        <i class="fa-solid fa-paper-plane"></i>
                    </button>
                </div>
            </div>
            <div class="right-panel">   
            </div>
        </section>
    </main>
    <footer>
        <p>&copy; 2024 DEV G5. All rights reserved.</p>
    </footer>
    <script>
        document.querySelector('.toggle-button').addEventListener('click', function () {
            const chatHistory = document.querySelector('.chat-history');
            const toggleIcon = this.querySelector('.toggle-icon');
            if (chatHistory.classList.contains('hidden')) {
                chatHistory.classList.remove('hidden');
                toggleIcon.src = '../src/img/HideIcon.webp';
                toggleIcon.alt = 'Ẩn lịch sử chat';
            } else {
                chatHistory.classList.add('hidden');
                toggleIcon.src = '../src/img/HideIcon.webp';
                toggleIcon.alt = 'Hiện lịch sử chat';
            }
        });
    </script>
    <script src="https://unpkg.com/@dotlottie/player-component@latest/dist/dotlottie-player.mjs" type="module"></script>


    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
    <script src="../js/components/profile.js"></script>
    <script src="../js/main.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            hljs.configure({
                ignoreUnescapedHTML: true
            });
            hljs.highlightAll();
        });
    </script>
</body>
</html>